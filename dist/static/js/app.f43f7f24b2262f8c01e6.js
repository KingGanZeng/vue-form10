webpackJsonp([1],{"+BTi":function(e,t){},"+Rdb":function(e,t){},"4/hK":function(e,t){},"8TV2":function(e,t){e.exports={type:"object",properties:{array:{type:"array",title:"array1","x-schema-form":{startEmpty:!1},items:{type:"object",properties:{a:{title:"item a",type:"string",default:"1"},b:{title:"item b",type:"string"}}}}}}},DnJY:function(e,t){},GXEp:function(e,t){},HWMT:function(e,t){e.exports={type:"string",title:"字符串",maxLength:5,default:"333"}},I4nB:function(e,t){},Kt62:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("mvHQ"),i=n.n(o),a=(n("GXEp"),n("+BTi"),n("mtrD")),s=n.n(a),m=(n("I4nB"),n("STLj")),l=n.n(m),c=(n("cDSy"),n("e0Bm")),p=n.n(c),u=n("D1Ni"),f=n.n(u),d=n("E5Az"),h=n.n(d),y=n("kbi+"),v=n.n(y),g=n("TXmL"),b=(n("5IAE"),n("qunJ"),n("vqwl")),x=n.n(b),$=n("woOf"),S=n.n($),_=n("fZjL"),j=n.n(_),T=n("Dd8w"),M=n.n(T),E=n("6nap"),k=n.n(E),w=n("NYxO"),I=n("fcsF"),O=n("qrK1");r.default.use(O),r.default.use(w.a);var A=n("wEM1");var F={name:"Form10",beforeCreate:function(){this.$store=new w.a.Store({state:{model:null,selected:null},mutations:{setModel:function(e,t){var n=t.path,r=t.value;n?O.vuexSet(n,r):e.model=r},setSelected:function(e,t){e.selected=t},VUEX_DEEP_SET:O.VUEX_DEEP_SET}})},provide:function(){return{options:this.sfOptions}},computed:M()({},Object(w.b)(["model"])),watch:{sfOptions:{immediate:!0,deep:!0,handler:function(e){var t=this;j()(e).forEach(function(n){t.$set(t.options,n,e[n])})}},model:{deep:!0,handler:function(e){this.$emit("input",e)}},sfSchema:{deep:!0,handler:function(){this.uid++}},form:{deep:!0,handler:function(){this.uid++}},value:{immediate:!0,handler:function(e){this.$store.commit("setModel",{value:e})}}},methods:{getAnyTypeCompMap:function(){var e={};return this.options.formats.forEach(function(t){var n=t.name,r=t.component;e["format-"+n]=r}),this.options.types.forEach(function(t){var n=t.type,r=t.component;e["type-"+n]=r}),e},use:function(e){if(e.render){(n=e).mixins?n.mixins.push(A.a):n.mixins=[A.a],n.form10||(n.form10={});var t=(e=n).form10||{};t.format&&(this.options.formats.push(S()({component:e},t.format)),this.options.ajv.addFormat(t.format.name,t.format.format)),t.type&&this.options.types.push({type:t.type,component:e})}var n}},props:["sf-schema","value","sf-form","sf-options","plugins"],beforeMount:function(){var e=this,t=new k.a({allErrors:!0});this.options.ajv=t,this.plugins&&(this.plugins.forEach(function(t){e.use(t)}),this.$set(this.options,"compMap",this.getAnyTypeCompMap()))},data:function(){return{rootPath:["model"],uid:0,componentId:"div",compForm:{},options:{formats:[],types:[],$rootParent:this.$parent,$root:this}}},components:{AnyType:I.default,"el-form":x.a}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-form",{staticClass:"vue-form10"},[t("AnyType",{key:this.uid,attrs:{"parent-path":this.rootPath,parent:"root","sf-schema":this.sfSchema||{},options:this.options}})],1)},staticRenderFns:[]};var N=n("VU/8")(F,C,!1,function(e){n("ok6J")},"data-v-bf49334e",null).exports,P=n("Q7hp"),V=n.n(P);var W={name:"Editor",methods:{get:V.a,updateEditorSchema:function(){var e=this;if(!this.editingSchema)return null;var t=this.editingSchema.type||this.editingSchema["x-schema-form"].type,n=void 0;if(t&&(n=this.plugins.find(function(n){var r=V()(n,"form10.format.shouldUse");return!(!r||!r(e.editingSchema["x-schema-form"]||{},e.editingSchema))||V()(n,"form10.format.name")===t})),n||(n=this.plugins.find(function(t){return V()(t,"form10.type")===e.editingSchema.type})),i()(this.value)===i()(this.preValue)&&this.targetPlugin===n)return this.preSchema;this.targetPlugin=n,this.preValue=this.value,this.editorSchema={type:"object",properties:{title:{type:"string",title:"标题"},type:{type:"string",title:"类型","x-schema-form":{titleMap:["object","array","string","boolean","number"].map(function(t){return{value:t,name:e.$t(t)}})}},format:{type:"string",title:"格式","x-schema-form":{titleMap:this.formats.map(function(e){return e.name}).map(function(t){return{value:t,name:e.$t(t)}})}},description:{type:"string",title:"描述"},"x-schema-form":{type:"object",title:"样式",properties:{placeholder:{title:this.$t("placeholder"),type:this.editingSchema.type,"x-schema-form":{condition:'(model&&(model.type==="string"))'}},startEmpty:{title:"是否一开始一项都没有",type:"boolean","x-schema-form":{condition:'(model&&(model.type==="array"))'}}}}}},this.preSchema=this.editorSchema}},data:function(){return{model:null,form:["*"],options:{},preValue:"",preSchema:null,editorSchema:null,targetPlugin:null}},computed:{editingSchema:function(){return this.path?function e(t,n){return n.length?t.properties?e(t.properties[n[0]],n.slice(1)):t.items?e(t.items,n.slice(1)):void 0:JSON.parse(i()(t))}(this.value,this.path.slice(1)):null},formats:function(){return this.plugins.filter(function(e){return e.form10.format}).map(function(e){return e.form10.format})}},watch:{value:{immediate:!0,handler:function(e){this.model=e}},model:{handler:function(e){if(this.path){var t=function e(t,n,r){return n.length?(t.properties?t.properties[n[0]]=e(t.properties[n[0]],n.slice(1),r):t.items&&(t.items=e(t.items,n.slice(1),r)),t):r}(this.value,this.path.slice(1),e);this.$emit("input",t),this.updateEditorSchema()}}},path:{immediate:!0,handler:function(e){e&&(this.model=this.editingSchema),this.updateEditorSchema()}}},props:["value","path","plugins"],components:{Form10:N}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.editorSchema&&e.path?n("div",[n("Form10",{key:e.path.toString(),attrs:{"sf-schema":e.editorSchema,"sf-form":e.form,"sf-options":e.options,plugins:e.plugins},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):e._e()},staticRenderFns:[]},L=n("VU/8")(W,D,!1,null,null,null).exports,U=(n("isgN"),n("tLa+")),J={name:"TimestampType",form10:{format:{name:"timestamp",format:/^\d{13}$/}},components:{"el-date-picker":n.n(U).a}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TypeWrapper",{ref:"typeWrapper",attrs:{form:e.form}},[n("div",{attrs:{slot:"input"},slot:"input"},[n("el-date-picker",{attrs:{disabled:e.form.readonly,type:"datetime",placeholder:e.form.placeholder,"value-format":"timestamp"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)])},staticRenderFns:[]},q=n("VU/8")(J,R,!1,null,null,null).exports,B=n("pFYg"),z=n.n(B),H={name:"EnumType",form10:{format:{name:"select",format:"",shouldUse:function(e,t){return e.titleMap||t.enum}}},computed:{titleMap:function(){var e=[];if(this.form.titleMap){var t=this.form.titleMap;Array.isArray(t)?e=t:"object"===(void 0===t?"undefined":z()(t))?e=j()(t).map(function(e){return{value:e,name:t[e]}}):console.warn("invalid titleMap:",this.form.titleMap)}else this.form.schema.enum&&(e=this.form.schema.enum.map(function(e){return{value:e,name:e}}));return e}},components:{"el-select":p.a,"el-option":l.a}},X={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TypeWrapper",{ref:"typeWrapper",attrs:{form:e.form}},[n("el-select",{attrs:{slot:"input",placeholder:e.form.placeholder,disabled:e.form.readonly},slot:"input",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.titleMap,function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1)},staticRenderFns:[]};var Y=n("VU/8")(H,X,!1,function(e){n("Kt62")},"data-v-35fbf390",null).exports,Z=n("DAYN"),K={};var Q={name:"ArrayType",form10:{type:"array"},beforeCreate:function(){this.$options.components.AnyType=n("fcsF").default},props:[],data:function(){return{}},mounted:function(){this.model&&this.model.length||!1===this.form.startEmpty&&this.addItem()},methods:{addItem:function(){var e=function e(t,n){if(!t)return t;if(t.default)return t.default;if("object"===t.type){var r={};return t.properties?(j()(t.properties).forEach(function(n){var o=e(t.properties[n]);o!==K&&(r[n]=o)}),j()(r).length?r:{}):{}}return n?void 0:K}(this.form.schema.items),t=this.model;Array.isArray(t)||(t=[]),t.push(e),this.model=t},deleteItem:function(e){this.model.splice(e,1)}},components:{draggable:n.n(Z).a,"el-button":s.a}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TypeWrapper",{ref:"typeWrapper",attrs:{form:e.form}},[n("div",{staticClass:"array-wrap",attrs:{slot:"input"},slot:"input"},[e.model&&e.model.length?n("draggable",{staticClass:"list-group",attrs:{element:"ol",list:e.model,options:{animation:150,handle:".sort-handle"}}},e._l(e.model,function(t,r){return n("li",{key:r,staticClass:"list-group-item"},[n("AnyType",{attrs:{options:e.options,"sf-schema":e.form.schema.items,"parent-path":e.path,parent:"array",name:r,"is-last":r===e.model.length-1}}),e._v(" "),n("i",{staticClass:"el-icon-sort sort-handle",attrs:{title:"drag to sort (index:"+r+")"}}),e._v(" "),n("i",{staticClass:"el-icon-delete delete-btn",attrs:{title:"delete"},on:{click:function(t){e.deleteItem(r)}}})],1)})):e._e(),e._v(" "),n("el-button",{staticClass:"add-btn",attrs:{type:"default"},on:{click:e.addItem}},[n("i",{staticClass:"el-icon-plus"}),e._v(" Add")])],1)])},staticRenderFns:[]};var ee=n("VU/8")(Q,G,!1,function(e){n("tNZD")},"data-v-5865007e",null).exports,te=(n("WzZF"),n("wxbk")),ne={name:"BooleanType",form10:{type:"boolean"},components:{"el-switch":n.n(te).a}},re={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TypeWrapper",{ref:"typeWrapper",attrs:{form:e.form,"hide-title":""}},[n("template",{slot:"input"},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#aaaaaa","active-text":e.form.notitle?"":e.form.title,disabled:e.form.readonly},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],2)},staticRenderFns:[]},oe=n("VU/8")(ne,re,!1,null,null,null).exports,ie=(n("Zki6"),n("0kY3")),ae={name:"NumberType",form10:{type:"number"},components:{"el-input-number":n.n(ie).a}},se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TypeWrapper",{ref:"typeWrapper",attrs:{form:e.form}},[n("div",{staticStyle:{width:"100%"},attrs:{slot:"input"},slot:"input"},[n("el-input-number",{attrs:{disabled:e.form.readonly,min:void 0===e.form.minimum?-1/0:e.form.minimum,max:void 0===e.form.maximum?1/0:e.form.maximum},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)])},staticRenderFns:[]},me=n("VU/8")(ae,se,!1,null,null,null).exports,le={name:"ObjectType",form10:{type:"object"},beforeCreate:function(){this.$options.components.AnyType=n("fcsF").default},methods:{remove:function(e,t){delete e[t]}},beforeMount:function(){this.model&&"object"===z()(this.model)||(this.model={})},computed:{keys:function(){return this.form.schema.properties?j()(this.form.schema.properties):[]}}},ce={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TypeWrapper",{ref:"typeWrapper",attrs:{form:e.form,"hide-title":!0}},[n("div",{attrs:{slot:"input"},slot:"input"},[void 0!==e.name&&null!==e.name&&"array"!==e.parent?n("fieldset",[n("legend",[e._v(e._s(e.form.title))]),e._v(" "),e._l(e.keys,function(t,r){return n("AnyType",{key:t,attrs:{options:e.options,"parent-path":e.path,name:t,"sf-schema":e.form.schema.properties[t],"is-last":r===e.keys.length-1,parent:"object"},on:{remove:function(n){e.remove(e.model,t)}}})})],2):e._l(e.keys,function(t,r){return n("AnyType",{key:t,attrs:{"parent-path":e.path,options:e.options,name:t,"sf-schema":e.form.schema.properties[t],"is-last":r===e.keys.length-1,parent:"object"},on:{remove:function(n){e.remove(e.model,t)}}})})],2)])},staticRenderFns:[]};var pe=n("VU/8")(le,ce,!1,function(e){n("POQb")},"data-v-c573cd46",null).exports,ue=(n("X+ky"),n("HJMx")),fe={name:"StringType",form10:{type:"string",form:{placeholder:{title:"placeholder",type:"string"}}},components:{"el-input":n.n(ue).a}},de={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TypeWrapper",{ref:"typeWrapper",attrs:{form:e.form}},[n("el-input",{attrs:{slot:"input",type:"textarea"===e.type?"textarea":"text",placeholder:e.form.placeholder,disabled:e.form.readonly},slot:"input",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)},staticRenderFns:[]};var he=n("VU/8")(fe,de,!1,function(e){n("DnJY")},"data-v-032eaa26",null).exports;n("4/hK");r.default.use(h.a),r.default.component(p.a.name,p.a),r.default.component(l.a.name,l.a),r.default.component(s.a.name,s.a);var ye=localStorage.getItem("vue-form10-json")||"";r.default.use(g.a);var ve={name:"Home",i18n:{locale:"zh",silentTranslationWarn:!0,messages:{zh:{placeholder:"占位内容",string:"字符串",array:"数组",object:"对象",number:"数字",boolean:"布尔变量",timestamp:"时间戳",select:"下拉框"}}},computed:{showForm10:function(){return!window.angular}},methods:{onSelect:function(e){this.selectingPath=e,console.log("onselect",e)},a:function(e){console.log("num change",e)},timeoutSetSchema:function(e){var t=this;clearTimeout(this.setSchemaTimeout),this.setSchemaTimeout=setTimeout(function(){t.schema=e,localStorage.setItem("vue-form10-json",f.a.stringify(e,!1,4))},500)}},beforeDestroy:function(){clearTimeout(this.setSchemaTimeout)},mounted:function(){var e,t=(e=n("wyA1")).keys().map(function(t){return{value:e(t),name:t.match(/([^/\\]+)\.json5$/)[1]}});this.examples=t,this.code||(this.selectingExample=this.examples[0].name)},watch:{model:{handler:function(){},deep:!0},code:{immediate:!0,handler:function(e,t){if(!t){var n=void 0;try{n=f.a.parse(e),this.timeoutSetSchema(n),this.errMsg&&(this.errMsg="")}catch(e){n=null,this.errMsg=e.message}}}},schema:{deep:!0,handler:function(e){this.code=f.a.stringify(e,!1,4),this.model=null}},selectingExample:function(e){this.model=null,this.code=f.a.stringify(v()(this.examples,{name:e}).value,!1,4)}},data:function(){return{plugins:[q,Y,ee,oe,me,pe,he],selectingPath:null,selectingExample:null,examples:[],setSchemaTimeout:0,errMsg:"",code:ye,cmOptions:{lineWrapping:!0,tabSize:4,mode:"text/javascript",lineNumbers:!0,line:!0},schema:null,model:JSON.parse(i()(null)),form:null,options:{mode:"editor"}}},components:{Form10:N,Editor:L}},ge={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[e.showForm10?n("div",{staticClass:"left",style:{padding:e.showForm10?"10px":""}},[n("label",[e._v("schema")]),e._v(" "),n("el-select",{attrs:{placeholder:"select an example"},model:{value:e.selectingExample,callback:function(t){e.selectingExample=t},expression:"selectingExample"}},e._l(e.examples,function(e){return n("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),e._v(" "),n("Editor",{staticStyle:{"margin-bottom":"30px"},attrs:{path:e.selectingPath,plugins:e.plugins},model:{value:e.schema,callback:function(t){e.schema=t},expression:"schema"}}),e._v(" "),n("codemirror",{staticStyle:{height:"50vh"},attrs:{options:e.cmOptions},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e._v(" "),e.errMsg?n("pre",{staticClass:"err-msg"},[e._v(e._s(e.errMsg))]):e._e(),e._v(" "),n("br"),e._v(" "),n("label",[e._v("model")]),e._v(" "),n("pre",[e._v(e._s(JSON.stringify(e.model,!1,4)))])],1):e._e(),e._v(" "),e.showForm10?n("div",{staticClass:"right"},[n("Form10",{attrs:{"sf-schema":e.schema,"sf-form":e.form,"sf-options":e.options,plugins:e.plugins},on:{select:e.onSelect},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1):e._e()])},staticRenderFns:[]};var be={name:"App",components:{Home:n("VU/8")(ve,ge,!1,function(e){n("VzcK")},"data-v-06e79462",null).exports}},xe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Home")],1)},staticRenderFns:[]};var $e=n("VU/8")(be,xe,!1,function(e){n("RpkB")},null,null).exports;r.default.config.productionTip=!1,new r.default({el:"#app",components:{App:$e},template:"<App/>"})},POQb:function(e,t){},RpkB:function(e,t){},SXpD:function(e,t){},Sht4:function(e,t){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},VzcK:function(e,t){},WzZF:function(e,t){},"X+ky":function(e,t){},Zki6:function(e,t){},cDSy:function(e,t){},fcsF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fZjL"),o=n.n(r),i=n("woOf"),a=n.n(i),s=n("Dd8w"),m=n.n(s),l=n("NYxO"),c=n("hygk"),p=n.n(c),u=n("wEM1"),f={name:"AnyType",methods:{isEqual:p.a,onClick:function(){"editor"!==this.options.mode||p()(this.selected,this.path)||(this.$store.commit("setSelected",this.path),this.options.$root.$emit("select",this.path))},remove:function(e){switch(e){case"retain":break;case"null":this.model=null;break;case"empty":switch(this.form.schema.type){case"string":this.model="";break;case"object":this.model={};break;case"array":this.model=[]}case"remove":this.model=void 0,this.$emit("remove");break;default:console.warn("invalid destroyStrategy:",e)}}},watch:{condition:function(e,t){if(!0===t&&!1===e){var n=void 0;n=this.form.destroyStrategy?this.form.destroyStrategy:"remove",this.remove(n)}}},computed:m()({},Object(l.b)({rootModel:function(e){return e.model}}),Object(l.b)(["selected"]),{form:function(){var e=Object(u.b)(this.name,this.sfSchema);return e.schema.format&&(e.type=e.schema.format),this.sfSchema["x-schema-form"]&&a()(e,this.sfSchema["x-schema-form"]),e},model:{set:function(e){this.$emit("update:sfModel",e)},get:function(){return this.sfModel}},componentId:function(){var e=this,t=this.form;if(!this.sfSchema||!o()(this.sfSchema).length)return null;var n=void 0;if(n=this.options.formats.find(function(t){var n=t.shouldUse;return!(!n||!n(e.form,e.form.schema))}))return"format-"+n.name;if(t.type){if(n=this.options.formats.find(function(n){var r=n.name,o=n.shouldUse;return!(!o||!o(e.form,e.form.schema))||r===t.type}))return"format-"+n.name;console.error("unknown format ",this.sfSchema,t.type,this)}return t.schema.type||console.error("schema needs type",t),"type-"+t.schema.type},condition:function(){var e=void 0;if(this.form.condition)try{e=new Function("model","return "+this.form.condition+";")(this.rootModel)}catch(t){e=!1}else e=!0;return e},path:function(){return"root"===this.parent?this.parentPath.concat([]):this.parentPath.concat([this.name])}}),beforeMount:function(){a()(this.$options.components,this.options.compMap)},props:["sf-model","sf-schema","options","name","parent","is-last","parent-path"],data:function(){return{}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap",class:{selected:e.isEqual(e.selected,e.path)},on:{click:function(t){return t.stopPropagation(),e.onClick(t)}}},[e.condition?n(e.componentId,{tag:"component",attrs:{"sf-schema":e.sfSchema,"sf-model":e.model,parent:e.parent,path:e.path,options:e.options,name:e.name,"is-last":e.isLast},on:{"update:sfModel":function(t){e.model=t}}}):e._e()],1)},staticRenderFns:[]};var h=n("VU/8")(f,d,!1,function(e){n("SXpD")},"data-v-391255cc",null);t.default=h.exports},isgN:function(e,t){},lSJM:function(e,t){e.exports={type:"object",properties:{obj:{type:"object",title:"obj",properties:{a:{type:"string"},b:{type:"number"}}}}}},oCJ5:function(e,t){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},ok6J:function(e,t){},p0na:function(e,t){},qunJ:function(e,t){},tNZD:function(e,t){},tznM:function(e,t){e.exports={type:"object",properties:{string:{type:"string",title:"字符串",maxLength:5,default:"333","x-schema-form":{disableSuccessState:!0,placeholder:"string哦",validationMessage:{maxLength:'{{title}}"{{value}}"太长了,最长{{schema.maxLength}}个字',minLength:"太短了"}}},array:{type:"array",title:"array1",items:{title:"item",type:"string",default:"b","x-schema-form":{htmlClass:"items"}}},array2:{type:"array",title:"array1","x-schema-form":{startEmpty:!1},items:{type:"object",properties:{a:{title:"itema",type:"string",default:"1"},b:{title:"itemb",type:"string"}}}},readonly:{type:"string",title:"字符串",description:"readonly","x-schema-form":{readonly:!0}},boolean:{type:"boolean",title:"测试boolean","x-schema-form":{destroyStrategy:"empty",condition:"model.number>10"}},number:{type:"number",title:"测试number",maximum:3},enum:{type:"string",title:"测试enum","x-schema-form":{titleMap:[{value:"Andersson",name:"Andersson"},{value:"Johansson",name:"Johansson"},{value:"1112223334445",name:"The right one"}],placeholder:"enum哦"}},time:{type:"number",title:"测试时间戳",format:"timestamp"},money:{type:"number",title:"测试money"},obj:{type:"object",title:"obj",properties:{a:{type:"string"},b:{type:"number"}}}}}},ubTu:function(e,t){e.exports={type:"object",properties:{enum1:{type:"string",title:"测试enum",enum:["A","B","C"],placeholder:"enum哦"},enum2:{type:"string",title:"测试enum","x-schema-form":{titleMap:[{value:"value1",name:"name1"},{value:"value2",name:"name2"},{value:"another value",name:"the last name"}],placeholder:"enum哦"}}}}},wEM1:function(e,t,n){"use strict";var r=n("Dd8w"),o=n.n(r),i=n("pFYg"),a=n.n(i),s=n("mvHQ"),m=n.n(s),l=n("woOf"),c=n.n(l),p=n("Gu7T"),u=n.n(p),f=n("fZjL"),d=n.n(f),h=n("Q7hp"),y=n.n(h),v=n("nHsE"),g=n.n(v),b=n("NYxO"),x=(n("+Rdb"),n("+BTi"),n("Mezo")),$={name:"TypeWrapper",mixins:[],mounted:function(){},props:{form:{},options:{},"hide-title":{type:Boolean}},computed:{marginBottom:function(){return this.$parent.isLast?0:"object"===this.$parent.parent||"array"===this.$parent.parent?"15px":"0"}},data:function(){return{errorMessage:""}},components:{"el-form-item":n.n(x).a}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{ref:"formItem",class:[e.form.htmlClass],style:{marginBottom:e.marginBottom},attrs:{label:e.hideTitle||e.form.notitle?"":e.$t(e.form.title),error:e.errorMessage}},[n("div",{staticStyle:{clear:"both"}},[e._t("input")],2),e._v(" "),e.form.description?n("span",{staticClass:"form10-description"},[e._v("\n        "+e._s(e.form.description)+"\n    ")]):e._e()])},staticRenderFns:[]};var _=n("VU/8")($,S,!1,function(e){n("xLwo"),n("p0na")},"data-v-38ca13ee",null).exports;function j(e,t,n){var r=(n=n||{}).global&&n.global.formDefaults?c()({},n.global.formDefaults):{};return t?(n.global&&!0===n.global.supressPropertyTitles?r.title=t.title:r.title=t.title||e,t.description&&(r.description=t.description),!0!==n.required&&!0!==t.required||(r.required=!0),t.maxLength&&(r.maxlength=t.maxLength),t.minLength&&(r.minlength=t.minLength),(t.readOnly||t.readonly)&&(r.readonly=!0),t.minimum&&(r.minimum=t.minimum+(t.exclusiveMinimum?1:0)),t.maximum&&(r.maximum=t.maximum-(t.exclusiveMaximum?1:0)),r.schema=t,r):r}t.b=j;t.a={methods:{interpolate:function(e,t){return"function"==typeof e?e(t):e?e.replace(/{{([\s\S]*?)}}/g,function(e,n){return""+y()(t,n)}):""}},watch:{model:{immediate:!0,handler:function(e){var t,n,r,o=this;if(this.form.onChange){var i=this.form.onChange;"function"==typeof i?i(e,this.form):"string"==typeof i&&(t=i,n=c()(this.options.$rootParent,{modelValue:this.modelValue,form:this.form}),r=d()(n),(new(Function.prototype.bind.apply(Function,[null].concat(u()(r),[t])))).apply(void 0,u()(r.map(function(e){return n[e]}))))}if(this.form.copyValueTo&&this.form.copyValueTo.forEach(function(t){o.$vuexSet(["model"].concat(u()(g()(t))).slice(),e)}),"object"!==this.type&&"array"!==this.type){var s=JSON.parse(m()(this.form.schema));this.form.type&&(s.format=this.form.type);var l=this.options.ajv.compile(s),p=void 0;p=void 0===e||null===e||l(e);var f=l.errors;this.$nextTick(function(){var t=void 0,n=void 0;if(p)null===e||void 0===e?t=null:(t="success",o.$invalid=!1,n="");else{t="error",o.$invalid=!0,n=o.options.ajv.errorsText(f);var r=f[0].keyword,i=o.form.validationMessage,s="";if(i){var m={error:f,title:o.form.schema.title,value:o.model,valueValue:o.model,form:o.form,schema:o.form.schema};"object"===(void 0===i?"undefined":a()(i))&&i[r]?s=i[r]:"function"==typeof i&&(s=i),s&&(n=o.interpolate(s,m))}}o.form.disableErrorState&&"error"===t&&(t=null),o.form.disableSuccessState&&"success"===t&&(t=null);var l=o.$refs.typeWrapper;l&&("error"===t?(l.$refs.formItem.validateMessage=n,l.$refs.formItem.validateState="error"):"success"===t?(l.$refs.formItem.validateState="",l.$refs.formItem.validateState="success"):(l.$refs.formItem.validateMessage="",l.$refs.formItem.validateState="")),o.$validationState=t})}}}},computed:o()({},Object(b.b)({rootModel:function(e){return e.model}}),{type:function(){return this.form.type||this.form.schema.type},modelValue:function(){return this.model},model:{set:function(e){this.$vuexSet(this.path.slice(),e)},get:function(){return y()(this.$store.state,this.path)}},form:function(){var e=j(this.name,this.sfSchema);return e.schema.format&&(e.type=e.schema.format),this.sfSchema["x-schema-form"]&&c()(e,this.sfSchema["x-schema-form"]),e}}),mounted:function(){this.sfSchema.default&&void 0===this.model&&(this.model=this.sfSchema.default)},data:function(){return{$validateState:null,$errorMessage:"a",$invalid:!1}},props:["sf-schema","options","name","parent","is-last","path"],components:{TypeWrapper:_}}},wyA1:function(e,t,n){var r={"./array.json5":"8TV2","./complicated.json5":"tznM","./enum.json5":"ubTu","./object.json5":"lSJM","./string.json5":"HWMT"};function o(e){return n(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="wyA1"},xLwo:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f43f7f24b2262f8c01e6.js.map